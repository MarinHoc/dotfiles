#!/bin/sh

die() {
    echo "$1" >&2
    exit 1
}

type -v stow > /dev/null ||
    die 'error : stow is needed to deploy'

case $1 in
    desktop) arg='dunst fonts git gtk misc mpv music rofi shell ssh vim wm x';;
    phone)   arg='misc shell ssh termux vim';;
    server)  arg='misc shell ssh vim';;
    *)
        die "usage : ${0##*/} <desktop|phone|server>"
esac

for pkg in $arg; do
    stow -t ~ "$pkg"
done
