run() {
    local i

    for ((; i++ < ${1:-0};)) {
        "${@:2}"
    }
}

map() {
    while read -r i; do
        "$@" "$i"
    done
}

filter() {
    while read -r i; do
        "$@" "$i" > /dev/null && echo "$i"
    done
}

reduce() {
    local a=${@: -1}

    while read -r i; do
        a=$("${@:1:$# - 1}" "$a" "$i")
    done

    echo "$a"
}

# vim: ft=sh
