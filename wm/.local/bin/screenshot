#!/bin/sh
#
# screenshot script

dir=~/medias/pics/scrots
cur=$(date +%F_%H-%M-%S)

mkdir -p "$dir"

IFS='+x'; set -- $(
    hacksaw                              \
        -n                               \
        -s "$(bspc config border_width)" \
        -c "$(bspc config focused_border_color)"
)

# avoid small accidental screenshots
[ $(($1 < 10 && $2 < 10)) -eq 1 ] && {
    IFS=' '; set -- $(wattr whxy "$(lsw -r)")
}

shotgun -g "$1x$2+$3+$4" "$dir/$cur.png" &&
    notify-send "Saved screenshot as $cur.png"
