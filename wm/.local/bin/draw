#!/bin/sh
#
# draw - spawn a terminal in a preselected area

_() bspc config "$@"

b=$(_         border_width)
c=$(_ focused_border_color)

hacksaw -s "$b" -c "$c" -n 2> /dev/null | {
    IFS=+x read -r w h x y

    [ "$w" ] || exit

    # adjust geometry
    w=$((w - 2 * b))
    h=$((h - 2 * b))

    [ $((w < 10 && h < 10)) -eq 1 ] && {
        w=300
        h=200
    }

    # make the newly spawned window floating & w/ the right geometry
    bspc rule -a '*' -o state=floating rectangle="${w}x${h}+${x}+${y}"

    alacritty &
}
