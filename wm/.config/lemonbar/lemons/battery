#!/bin/sh

battery |
    while read -r var sta; do
        [ "$sta" = Charging ] && icon= ||
            case $((var / 25)) in
                0) icon=;;
                1) icon=;;
                2) icon=;;
                3) icon=;;
                *) icon=
            esac

        echo "bat $icon%{O10}$var%%"
    done
