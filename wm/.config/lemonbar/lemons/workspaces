#!/bin/sh

xtitle -s |
    while read -r win; do
        win=${win:-Desktop}
        cur=$(bspc query -D -d --names)

        # shorten current window title
        [ ${#win} -gt 45 ] &&
            win=$(printf '%.45s...' "$win")

        echo "wks î€Œ $cur - $win"
    done
