#!/bin/sh
#
# wallpaper - set random wallpaper

readonly DIR=~/medias/pics/walls

_() : $(($@)) # maths

xorshift() {
    _ "x ^= $1 << 13"
	_ "x ^=  x >> 17"
	_ "x ^=  x <<  5"

    printf '%s\n' "$x"
}

set --

for file in "$DIR/"*; do
    set -f -- "$@" "$file"; set +f
done

# generate a "random" number
_ "rand = $(xorshift $$) % $#"

shift "$rand"; setroot --store -fw "$1"
